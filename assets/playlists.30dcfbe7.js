import{P as e,r as a,z as s,j as t,M as r,N as u,U as l,Q as o,R as n,S as i,bC as m,a1 as p}from"./index.2d658157.js";import{C as v}from"./CoverLists.f24448be.js";import{P as c}from"./index.fe593983.js";import"./album.095eb62c.js";import"./formRules.1ad773f3.js";import"./FormItem.8e86c8fa.js";import"./Select.bcceca04.js";import"./PlayOne.a9053696.js";import"./Grid.cc39c44f.js";import"./Skeleton.2e7bf840.js";import"./use-houdini.7148f755.js";const y={class:"playlists"},d={__name:"playlists",setup(d){const f=e(),g=a(f.currentRoute.value.query.keywords),b=a([]),j=a(0),C=a(30),h=a(f.currentRoute.value.query.page?Number(f.currentRoute.value.query.page):1),q=(e,a=30,s=0,t=1e3)=>{m(e,a,s,t).then((e=>{j.value=e.result.playlistCount,b.value=[],e.result.playlists?e.result.playlists.forEach((e=>{b.value.push({id:e.id,cover:e.coverImgUrl,name:e.name,artist:e.creator,playCount:p(e.playCount)})})):$message.error("搜索内容为空"),$mainContent&&$mainContent.scrollIntoView({behavior:"smooth"})}))};s((()=>f.currentRoute.value),(e=>{g.value=e.query.keywords,h.value=Number(e.query.page?e.query.page:1),"s-playlists"==e.name&&q(g.value,C.value,(h.value-1)*C.value)}));const N=e=>{C.value=e,q(g.value,e,(h.value-1)*C.value)},R=e=>{f.push({path:"/search/playlists",query:{keywords:g.value,page:e}})};return t((()=>{q(g.value,C.value,(h.value-1)*C.value)})),(e,a)=>(r(),u("div",y,[l(v,{listData:o(b)},null,8,["listData"]),o(b)[0]?(r(),n(c,{key:0,pageNumber:o(h),totalCount:o(j),onPageSizeChange:N,onPageNumberChange:R},null,8,["pageNumber","totalCount"])):i("",!0)]))}};export{d as default};
