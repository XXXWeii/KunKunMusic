import{as as s,U as e,_ as t,a5 as a,P as o,r as l,j as r,M as i,N as n,W as c,R as d,X as p,Y as u,Q as m,O as k,$ as g,a9 as h,S as f,T as y,A as v,aA as w,af as L,aE as x,aB as _}from"./index.2d658157.js";import{l as C}from"./artist.2ff9ca04.js";import{a as b,_ as A}from"./Grid.cc39c44f.js";import{_ as $}from"./Skeleton.2e7bf840.js";const j=s("people-search-one",!0,(function(s){return e("svg",{width:s.size,height:s.size,viewBox:"0 0 48 48",fill:"none"},[e("circle",{cx:"24",cy:"11",r:"7",fill:s.colors[1],stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin},null),e("path",{d:"M4 41C4 32.1634 12.0589 25 22 25",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin},null),e("circle",{cx:"35",cy:"34",r:"6",fill:s.colors[1],stroke:s.colors[0],"stroke-width":s.strokeWidth},null),e("path",{d:"M40 38L44 41",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin},null)])})),z={class:"artistlists"},U={class:"cover"},N=t({__name:"ArtistLists",props:{listData:{type:Array,default:[]},gridCollapsed:{type:Boolean,default:!1},gridCollapsedRows:{type:Number,default:1},loadingNum:{type:Number,default:6}},setup(s){const t=a(),N=o(),W=l(0),D=l(0),R=l(!1),B=l(null),M=()=>{R.value=!1},S=s=>{const e=I(s.id)?1:2;C(e,s.id).then((a=>{200===a.code?($message.success(`${s.name}${1==e?"收藏成功":"取消收藏成功"}`),t.setUserArtistLists()):$message.error(`${s.name}${1==e?"收藏失败":"取消收藏失败"}`)}))},I=s=>!t.getUserArtistLists.list[0]||!t.getUserArtistLists.list.some((e=>e.id===s));return r((()=>{!t.userLogin||t.getUserArtistLists.has||t.getUserArtistLists.isLoading||t.setUserArtistLists()})),(a,o)=>{const l=w,r=L,C=x,T=b,X=A,Y=$,E=_;return i(),n("div",z,[e(y,{mode:"out-in"},{default:c((()=>[s.listData[0]?(i(),d(X,{key:0,"x-gap":"30","y-gap":"34",cols:"3 mb:4 s:5 l:6",responsive:"screen",collapsed:s.gridCollapsed,"collapsed-rows":s.gridCollapsedRows},{default:c((()=>[(i(!0),n(p,null,u(s.listData,(s=>(i(),d(T,{class:"item",key:s,onClick:e=>m(N).push(`/artist/songs?id=${s.id}&page=1`),onContextmenu:e=>{return o=s,(a=e).preventDefault(),R.value=!1,void v().then((()=>{B.value=[{key:"like",label:I(o.id)?"收藏歌手":"取消收藏歌手",show:!(!t.userLogin||!t.getUserArtistLists.has),props:{onClick:()=>{S(o)}}},{key:"copy",label:"复制歌手链接",props:{onClick:()=>{if(navigator.clipboard)try{navigator.clipboard.writeText(`https://music.163.com/#/artist?id=${o.id}`),$message.success("歌手链接复制成功")}catch(s){$message.error("复制失败：",s)}else $message.error("您的浏览器暂不支持该操作")}}}],R.value=!0,W.value=a.clientX,D.value=a.clientY}));var a,o}},{default:c((()=>[k("div",U,[e(l,{round:"",class:"coverImg",src:s.cover.replace(/^http:/,"https:")+"?param=200y200","fallback-src":"/images/pic/default.png"},null,8,["src"]),e(r,{size:"40",component:m(j)},null,8,["component"])]),e(C,{class:"name text-hidden"},{default:c((()=>[g(h(s.name),1)])),_:2},1024),s.size?(i(),d(C,{key:0,class:"size",depth:3},{default:c((()=>[g(h(s.size)+"首 ",1)])),_:2},1024)):f("",!0)])),_:2},1032,["onClick","onContextmenu"])))),128))])),_:1},8,["collapsed","collapsed-rows"])):(i(),d(X,{key:1,class:"loading","x-gap":"20","y-gap":"26",cols:"3 mb:4 s:5 l:6",responsive:"screen",collapsed:s.gridCollapsed,"collapsed-rows":s.gridCollapsedRows},{default:c((()=>[(i(!0),n(p,null,u(s.loadingNum,(s=>(i(),d(T,{class:"item",key:s},{default:c((()=>[e(Y,{class:"pic",sharp:!1}),e(Y,{text:"",style:{width:"60%"}})])),_:2},1024)))),128))])),_:1},8,["collapsed","collapsed-rows"]))])),_:1}),e(E,{style:{"--n-font-size":"14px","--n-border-radius":"6px"},placement:"bottom-start",trigger:"manual",size:"large",x:m(W),y:m(D),options:m(B),show:m(R),"on-clickoutside":M,onSelect:o[0]||(o[0]=s=>R.value=!1)},null,8,["x","y","options","show"])])}}},[["__scopeId","data-v-8990a858"]]);export{N as A};
