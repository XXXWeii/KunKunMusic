import{_ as s,P as a,cm as e,j as t,M as l,N as i,Q as o,R as c,W as r,S as n,U as d,T as f,a1 as p,$ as u,X as m,Y as g,O as y,a9 as L,aA as _,aE as v,bK as b}from"./index.2d658157.js";import{g as j}from"./album.095eb62c.js";import{C as h}from"./CoverLists.f24448be.js";import{_ as k}from"./Divider.22731e80.js";import{a as T,_ as C}from"./Grid.cc39c44f.js";import"./formRules.1ad773f3.js";import"./FormItem.8e86c8fa.js";import"./Select.bcceca04.js";import"./PlayOne.a9053696.js";import"./Skeleton.2e7bf840.js";import"./use-houdini.7148f755.js";const I={class:"toplists"},x={class:"cover"},M={class:"data"},H={class:"desc"},S=s({__name:"toplists",setup(s){const S=a(),$=e({officialList:[],globalList:[]});return t((()=>{$setSiteTitle("发现 - 排行榜"),j().then((s=>{$.officialList=[],$.globalList=[],s.list[0]?s.list.forEach((s=>{s.ToplistType?$.officialList.push(s):$.globalList.push({id:s.id,cover:s.coverImgUrl,name:s.name,update:s.updateFrequency,playCount:p(s.playCount)})})):$message.error("排行榜获取失败")}))})),(s,a)=>{const e=k,t=_,p=v,j=b,D=T,F=C;return l(),i("div",I,[o($).officialList[0]?(l(),c(e,{key:0},{default:r((()=>[u("官方榜")])),_:1})):n("",!0),d(f,{mode:"out-in"},{default:r((()=>[o($).officialList[0]?(l(),c(F,{key:0,class:"official","x-gap":"20","y-gap":"20",cols:2},{default:r((()=>[(l(!0),i(m,null,g(o($).officialList,(s=>(l(),c(D,{key:s},{default:r((()=>[d(j,{class:"item",bordered:!1,"content-style":{padding:"0",display:"flex",alignItems:"center"},hoverable:"",onClick:a=>o(S).push(`/playlist?id=${s.id}&page=1`)},{default:r((()=>[y("div",x,[d(t,{class:"coverImg",src:s.coverImgUrl.replace(/^http:/,"https:")+"?param=300y300","fallback-src":"/images/pic/default.png"},null,8,["src"]),d(p,{class:"update",innerHTML:s.updateFrequency},null,8,["innerHTML"])]),y("div",M,[d(p,{class:"title",innerHTML:s.name},null,8,["innerHTML"]),y("div",H,[(l(!0),i(m,null,g(s.tracks,((s,a)=>(l(),i("div",{class:"song text-hidden",key:s},[d(p,null,{default:r((()=>[u(L(a+1)+". "+L(s.first)+" - ",1)])),_:2},1024),d(p,{depth:"3"},{default:r((()=>[u(L(s.second),1)])),_:2},1024)])))),128))])])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})):n("",!0)])),_:1}),d(e,null,{default:r((()=>[u("全球榜")])),_:1}),d(h,{listData:o($).globalList,listType:"topList"},null,8,["listData"])])}}},[["__scopeId","data-v-f01adcf2"]]);export{S as default};
