import{c as e}from"./artist.2ff9ca04.js";import{_ as a,P as u,r as t,j as r,z as s,M as l,N as o,U as m,Q as i,a3 as n}from"./index.2d658157.js";import{C as p}from"./CoverLists.f24448be.js";import{P as v}from"./index.fe593983.js";import"./album.095eb62c.js";import"./formRules.1ad773f3.js";import"./FormItem.8e86c8fa.js";import"./Select.bcceca04.js";import"./PlayOne.a9053696.js";import"./Grid.cc39c44f.js";import"./Skeleton.2e7bf840.js";import"./use-houdini.7148f755.js";const c={class:"albums"},b=a({__name:"albums",setup(a){const b=u(),d=t(b.currentRoute.value.query.id),f=t([]),h=t(30),j=t(b.currentRoute.value.query.page?Number(b.currentRoute.value.query.page):1),g=t(0),y=(a,u=30,t=0)=>{e(a,u,t).then((e=>{g.value=e.artist.albumSize,f.value=[],e.hotAlbums?e.hotAlbums.forEach((e=>{f.value.push({id:e.id,cover:e.picUrl,name:e.name,artist:e.artists,time:n(e.publishTime)})})):$message.error("搜索内容为空"),$mainContent&&$mainContent.scrollIntoView({behavior:"smooth"})}))},C=e=>{b.push({path:"/artist/albums",query:{id:d.value,page:e}})},q=e=>{h.value=e,y(d.value,e,(j.value-1)*h.value)};return r((()=>{y(d.value,h.value,(j.value-1)*h.value)})),s((()=>b.currentRoute.value),(e=>{d.value=e.query.id,j.value=Number(e.query.page?e.query.page:1),"ar-albums"==e.name&&y(d.value,h.value,(j.value-1)*h.value)})),(e,a)=>(l(),o("div",c,[m(p,{listData:i(f),listType:"album"},null,8,["listData"]),m(v,{totalCount:i(g),pageNumber:i(j),onPageSizeChange:q,onPageNumberChange:C},null,8,["totalCount","pageNumber"])]))}},[["__scopeId","data-v-110d68d8"]]);export{b as default};
