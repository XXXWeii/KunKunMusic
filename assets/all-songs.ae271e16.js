import{e as a}from"./artist.2ff9ca04.js";import{_ as e,P as s,r as l,z as t,j as u,M as n,N as o,Q as r,O as i,a9 as m,U as v,W as p,R as c,S as d,bN as g,bD as f,aw as y,$ as b,a7 as h,a8 as j}from"./index.2d658157.js";import{D as N}from"./DataLists.3ba2b8b8.js";import{P as k}from"./index.fe593983.js";import"./SmallSongData.9d069edf.js";import"./InputNumber.6e3256f5.js";import"./Add.4fe37192.js";import"./FormItem.8e86c8fa.js";import"./PlayOne.a9053696.js";import"./Select.bcceca04.js";const q=a=>(h("data-v-6dc66d0a"),a=a(),j(),a),C={class:"all-songs"},D={key:0,class:"title"},S={class:"key"},_=q((()=>i("span",null,"全部歌曲",-1))),P={key:1,class:"title"},R=q((()=>i("span",{class:"key"},"未提供所需信息",-1))),x=q((()=>i("br",null,null,-1))),I={key:2,class:"songs"},$=e({__name:"all-songs",setup(e){const h=s(),j=l(h.currentRoute.value.query.id),q=l([]),$=l(null),w=l(0),z=l(30),L=l(h.currentRoute.value.query.page?Number(h.currentRoute.value.query.page):1),O=(e,s=30,l=0,t="hot")=>{a(e,s,l,t).then((a=>{if(a.songs[0]){w.value=a.total,$.value=a.songs[0].ar[0].name;const e=a.songs.map((a=>a.id));g(e.join(",")).then((a=>{q.value=[],a.songs.forEach(((a,e)=>{q.value.push({id:a.id,num:e+1+(L.value-1)*z.value,name:a.name,artist:a.ar,album:a.al,alia:a.alia,time:f(a.dt),fee:a.fee,pc:a.pc?a.pc:null,mv:a.mv?a.mv:null})}))}))}else $message.error("歌手全部歌曲为空");$mainContent&&$mainContent.scrollIntoView({behavior:"smooth"})}))};t((()=>h.currentRoute.value),(a=>{j.value=a.query.id,L.value=Number(a.query.page?a.query.page:1),"all-songs"==a.name&&O(j.value,z.value,L.value?(L.value-1)*z.value:0)}));const A=a=>{z.value=a,getSearchDataList(j.value,a,(L.value-1)*z.value)},E=a=>{h.push({path:"/all-songs",query:{id:j.value,page:a}})};return u((()=>{O(j.value,z.value,(L.value-1)*z.value)})),(a,e)=>{const s=y;return n(),o("div",C,[r(j)?(n(),o("div",D,[i("span",S,m(r($)?r($):"未知歌手"),1),_])):(n(),o("div",P,[R,x,v(s,{strong:"",secondary:"",onClick:e[0]||(e[0]=a=>r(h).go(-1)),style:{"margin-top":"20px"}},{default:p((()=>[b(" 返回上一级 ")])),_:1})])),r(j)?(n(),o("div",I,[v(N,{listData:r(q)},null,8,["listData"]),r(q)[0]?(n(),c(k,{key:0,pageNumber:r(L),totalCount:r(w),onPageSizeChange:A,onPageNumberChange:E},null,8,["pageNumber","totalCount"])):d("",!0)])):d("",!0)])}}},[["__scopeId","data-v-6dc66d0a"]]);export{$ as default};
